<form th:action="@{'/books/edit/{bookId}' (bookId = ${book != null ? book.getId() : -1})}" method="post">
    <div>
        <label for="title">Product name</label>
        <input type="text" id="title" name="title"
               th:value="${book != null ? book.getTitle() : ''}"
               required placeholder="Enter title">
    </div>
    <div>
        <label for="year">Year</label>
        <input type="text" id="year" name="year"
               th:value="${book != null ? book.getYear() : ''}"
               required placeholder="Enter year">
    </div>
    <div>
        <label for="genre">Genre</label>
        <input type="text" id="genre" name="genre"
               th:value="${book != null ? book.getGenre() : ''}"
               required placeholder="Enter genre">
    </div>
    <div>
        <label for="isbn">Isbn</label>
        <input type="text" id="isbn" name="isbn"
               th:value="${book != null ? book.getIsbn() : ''}"
               required placeholder="Enter isbn">
    </div>
    <div>
        <label>Bookstore</label>
        <select name="bookStore">
            <option th:if="${book} != null"
                    th:selected="${book.getBookStore() != null && book.getBookStore().getId() == bookstore.getId()}"
                    th:each="bookstore : ${bookstores}"
                    th:text="${bookstore.getName()}"
                    th:value="${bookstore.getId()}">
            </option>
            <option th:if="${book} == null"
                    th:each="bookstore : ${bookstores}"
                    th:text="${bookstore.getName()}"
                    th:value="${bookstore.getId()}">
            </option>
        </select>
    </div>

    <button type="submit">Submit</button>
    <a href="/books">Back</a>
</form>
